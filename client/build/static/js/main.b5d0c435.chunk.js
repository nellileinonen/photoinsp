(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(0),r=n.n(o),s=n(15),a=n.n(s),i=n(11),d=n(13),j=n(10),l=n(20),h=n.n(l),u=n(33),b=n(34),p=n.n(b),O=Object(d.b)("photos/fetchPhotos",Object(u.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/photos");case 2:return t=e.sent,console.log("in photosSlice response data: ",t.data),n=t.data.map((function(e){return{photoId:e.id,thumb:e.urls.thumb,alt:e.alt_description}})),console.log("in photosSlice newPhotos: ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),f=Object(d.c)({name:"photos",initialState:{photos:[],status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(O.pending,(function(e,t){e.status="loading",e.error=null})).addCase(O.fulfilled,(function(e,t){e.status="succeeded",console.log("action payload in extra reducer: ",t.payload),e.photos=e.photos.concat(t.payload),console.log("state.photos in extra reducer: ",e.photos)})).addCase(O.rejected,(function(e,t){e.status="failed",e.error=t.payload}))}}).reducer,x=Object(j.c)({photos:f}),m=Object(d.a)({reducer:x}),g=(n(63),n(9)),v=(n(64),n(3)),k=function(){var e=Object(v.g)();return Object(c.jsxs)("header",{children:[Object(c.jsx)(g.b,{to:"/",children:Object(c.jsx)("h1",{children:"Photoinsp"})}),Object(c.jsx)(g.b,{to:{pathname:"/info",state:{background:e}},children:"info"})]})},w=function(e){e.photoId;var t=e.thumb,n=e.alt;return Object(c.jsx)("img",{src:t,alt:n})},I=function(){var e,t=Object(i.b)(),n=Object(i.c)((function(e){return e.photos.photos})),r=Object(i.c)((function(e){return e.photos.status})),s=Object(i.c)((function(e){return e.photos.error})),a=Object(v.g)();Object(o.useEffect)((function(){"idle"===r&&t(O())}),[r,t]),"loading"===r?e=Object(c.jsx)("div",{children:"Loading..."}):"succeeded"===r?(console.log(n),e=n.map((function(e){return Object(c.jsx)(g.b,{to:{pathname:"/photo/".concat(e.photoId),state:{background:a}},children:Object(c.jsx)(w,{photoId:e.photoId,thumb:e.thumb,alt:e.alt})},e.photoId)}))):"failed"===r&&(e=Object(c.jsx)("div",{children:s}));return Object(c.jsxs)("div",{children:[e,Object(c.jsx)("button",{onClick:function(){console.log("show me more photos")},children:"Show more"})]})},y=(n(66),function(e){var t=e.children,n=Object(v.f)(),r=Object(o.useRef)(null),s=function(e){null===r.current||r.current.contains(e.target)||n.goBack()};return Object(o.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}})),Object(c.jsxs)("div",{ref:r,className:"modal-wrapper",children:[Object(c.jsx)(g.b,{to:"/",children:"X"}),t]})}),S=function(){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["This app fetches data from"," ",Object(c.jsx)("a",{href:"https://unsplash.com/developers",target:"_blank",rel:"noreferrer",children:"Unsplash API"}),"."]}),Object(c.jsxs)("p",{children:["The app is created by a hobbyist web developer"," ",Object(c.jsx)("a",{href:"https://github.com/nellileinonen",target:"_blank",rel:"noreferrer",children:"Nelli Leinonen"}),"."," ","Source code on"," ",Object(c.jsx)("a",{href:"https://github.com/nellileinonen/photoinsp",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]})},E=function(){return Object(c.jsxs)("div",{children:["img here",Object(c.jsx)("img",{src:"",alt:""})]})},C=function(){var e=Object(v.g)(),t=e.state&&e.state.background;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(v.c,{location:t||e,children:[Object(c.jsx)(v.a,{exact:!0,path:"/",children:Object(c.jsx)(I,{})}),Object(c.jsx)(v.a,{path:"/info",children:Object(c.jsx)(y,{children:Object(c.jsx)(S,{})})}),Object(c.jsx)(v.a,{path:"/photo/:photoId",children:Object(c.jsx)(y,{children:Object(c.jsx)(E,{})})})]}),t&&Object(c.jsx)(v.a,{path:"/info",children:Object(c.jsx)(y,{children:Object(c.jsx)(S,{})})}),t&&Object(c.jsx)(v.a,{path:"/photo/:photoId",children:Object(c.jsx)(y,{children:Object(c.jsx)(E,{})})})]})},L=function(){return Object(c.jsx)(g.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(k,{}),Object(c.jsx)(C,{})]})})};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(i.a,{store:m,children:Object(c.jsx)(L,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.b5d0c435.chunk.js.map
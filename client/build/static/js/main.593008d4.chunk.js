(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,r){},64:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),o=r.n(c),s=r(15),a=r.n(s),i=r(11),u=r(13),d=r(10),l=r(20),j=r.n(l),h=r(33),b=r(34),p=r.n(b),O=Object(u.b)("photos/fetchPhotos",function(){var e=Object(h.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/photos",{params:{page:t}});case 2:if(r=e.sent,!Array.isArray(r.data)){e.next=9;break}return console.log(r.data),n=r.data.map((function(e){return{photoId:e.id,thumbUrl:e.urls.thumb,alt:e.alt_description,createdAt:e.created_at,regularUrl:e.urls.regular,userId:e.user.id,userRealName:e.user.name,username:e.user.username,userImgUrl:e.user.profile_image.small}})),e.abrupt("return",n);case 9:return console.log(r.data.message),e.abrupt("return",r.data.message);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(u.c)({name:"photos",initialState:{photos:[],page:1,status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(O.pending,(function(e,t){e.status="loading",e.error=null})).addCase(O.fulfilled,(function(e,t){Array.isArray(t.payload)?(e.status="succeeded",e.page=e.page+1,e.photos=e.photos.concat(t.payload)):(e.status="failed",e.error="Could not load photos.")})).addCase(O.rejected,(function(e,t){e.status="failed",console.log("failed action: ",t),e.error="Could not load photos."}))}}).reducer,x=Object(d.c)({photos:f}),m=Object(u.a)({reducer:x}),g=(r(63),r(9)),v=(r(64),r(3)),k=function(){var e=Object(v.g)();return Object(n.jsxs)("header",{children:[Object(n.jsx)(g.b,{to:"/",children:Object(n.jsx)("h1",{children:"Photoinsp"})}),Object(n.jsx)(g.b,{to:{pathname:"/info",state:{background:e}},children:"info"})]})},I=function(e){e.photoId;var t=e.thumbUrl,r=e.alt;return Object(n.jsx)("img",{src:t,alt:r})},w=function(e){var t=e.handleShowMore;return Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){return t()},children:"Show more"})})},y=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.photos.photos})),r=Object(i.c)((function(e){return e.photos.status})),o=Object(i.c)((function(e){return e.photos.page})),s=Object(i.c)((function(e){return e.photos.error})),a=Object(v.g)();Object(c.useEffect)((function(){"idle"===r&&e(O(o))}),[r,o,e]);return Object(n.jsxs)("div",{children:["loading"===r&&Object(n.jsx)("div",{children:"Loading..."}),t.map((function(e){return Object(n.jsx)(g.b,{to:{pathname:"/photo/".concat(e.photoId),state:{background:a}},children:Object(n.jsx)(I,{photoId:e.photoId,thumbUrl:e.thumbUrl,alt:e.alt})},e.photoId)})),"succeeded"===r&&Object(n.jsx)(w,{handleShowMore:function(){e(O(o))}}),"failed"===r&&Object(n.jsx)("div",{children:s})]})},A=(r(66),function(e){var t=e.children,r=Object(v.f)(),o=Object(c.useRef)(null),s=function(e){null===o.current||o.current.contains(e.target)||r.goBack()};return Object(c.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}})),Object(n.jsxs)("div",{ref:o,className:"modal-wrapper",children:[Object(n.jsx)(g.b,{to:"/",children:"X"}),t]})}),U=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:["This app fetches data from"," ",Object(n.jsx)("a",{href:"https://unsplash.com/developers",target:"_blank",rel:"noreferrer",children:"Unsplash API"}),"."]}),Object(n.jsxs)("p",{children:["The app is created by a hobbyist web developer"," ",Object(n.jsx)("a",{href:"https://github.com/nellileinonen",target:"_blank",rel:"noreferrer",children:"Nelli Leinonen"}),"."," ","Source code on"," ",Object(n.jsx)("a",{href:"https://github.com/nellileinonen/photoinsp",target:"_blank",rel:"noreferrer",children:"GitHub"}),"."]})]})},C=function(){return Object(n.jsxs)("div",{children:["img here",Object(n.jsx)("img",{src:"",alt:""})]})},S=function(){var e=Object(v.g)(),t=e.state&&e.state.background;return Object(n.jsxs)("div",{children:[Object(n.jsxs)(v.c,{location:t||e,children:[Object(n.jsx)(v.a,{exact:!0,path:"/",children:Object(n.jsx)(y,{})}),Object(n.jsx)(v.a,{path:"/info",children:Object(n.jsx)(A,{children:Object(n.jsx)(U,{})})}),Object(n.jsx)(v.a,{path:"/photo/:photoId",children:Object(n.jsx)(A,{children:Object(n.jsx)(C,{})})})]}),t&&Object(n.jsx)(v.a,{path:"/info",children:Object(n.jsx)(A,{children:Object(n.jsx)(U,{})})}),t&&Object(n.jsx)(v.a,{path:"/photo/:photoId",children:Object(n.jsx)(A,{children:Object(n.jsx)(C,{})})})]})},_=function(){return Object(n.jsx)(g.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(k,{}),Object(n.jsx)(S,{})]})})};a.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(i.a,{store:m,children:Object(n.jsx)(_,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.593008d4.chunk.js.map